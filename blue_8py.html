<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jura-Python-BT: src/blue.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Jura-Python-BT
   </div>
   <div id="projectbrief">Code for control and payment system of Jura Coffee Machine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">blue.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main script to run for BlackBetty.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceblue"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html">blue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae7ad1bf785a266cc77382decdcbc27e4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ae7ad1bf785a266cc77382decdcbc27e4">blue.setupBuzzer</a> (pin)</td></tr>
<tr class="memdesc:ae7ad1bf785a266cc77382decdcbc27e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup buzzer.  <br /></td></tr>
<tr class="separator:ae7ad1bf785a266cc77382decdcbc27e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3884feb4e14864bd6ea7f3f8d9a9eee2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a3884feb4e14864bd6ea7f3f8d9a9eee2">blue.beep</a> (duration)</td></tr>
<tr class="memdesc:a3884feb4e14864bd6ea7f3f8d9a9eee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a beep sound.  <br /></td></tr>
<tr class="separator:a3884feb4e14864bd6ea7f3f8d9a9eee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58e9ba54d49647978097b69d966dbcc7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a58e9ba54d49647978097b69d966dbcc7">blue.lockUnlockMachine</a> (code, lock_status, unlock_code=&quot;77e1&quot;)</td></tr>
<tr class="memdesc:a58e9ba54d49647978097b69d966dbcc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock or unlock the machine.  <br /></td></tr>
<tr class="separator:a58e9ba54d49647978097b69d966dbcc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1503ee4395d8344fbf3427799915a825"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a1503ee4395d8344fbf3427799915a825">blue.scanCard</a> ()</td></tr>
<tr class="memdesc:a1503ee4395d8344fbf3427799915a825"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan for RFID tag.  <br /></td></tr>
<tr class="separator:a1503ee4395d8344fbf3427799915a825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6237606e6959670d49436f3264ad08d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ac6237606e6959670d49436f3264ad08d">blue.getAlerts</a> (status)</td></tr>
<tr class="memdesc:ac6237606e6959670d49436f3264ad08d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get alerts from the decoded machine status and convert it to the corresponding alerts (if any) If the corresponding bit is not set, the alert is not active.  <br /></td></tr>
<tr class="separator:ac6237606e6959670d49436f3264ad08d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab431d67d988284e3c35d0a07acbe9773"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ab431d67d988284e3c35d0a07acbe9773">blue.end_read</a> (signal, frame)</td></tr>
<tr class="memdesc:ab431d67d988284e3c35d0a07acbe9773"><td class="mdescLeft">&#160;</td><td class="mdescRight">End the program Runs when Ctrl+C is pressed.  <br /></td></tr>
<tr class="separator:ab431d67d988284e3c35d0a07acbe9773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85cdf8840643575f5412ad4df1493f93"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a85cdf8840643575f5412ad4df1493f93">blue.read_statistics</a> ()</td></tr>
<tr class="memdesc:a85cdf8840643575f5412ad4df1493f93"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespaceRead.html">Read</a> the statistics from the machine.  <br /></td></tr>
<tr class="separator:a85cdf8840643575f5412ad4df1493f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aaee378a99ea1a0e0a0beca548542ebea"><td class="memItemLeft" align="right" valign="top">json&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#aaee378a99ea1a0e0a0beca548542ebea">blue.CHARACTERISTICS</a> = json.load(open(&quot;/home/pi/Jura-Python-BT/data/uuids_handles.json&quot;))[&quot;characteristics&quot;]</td></tr>
<tr class="memdesc:aaee378a99ea1a0e0a0beca548542ebea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global Constants The dictionary of UUIDs and handles of the bluetooth characteristics.  <br /></td></tr>
<tr class="separator:aaee378a99ea1a0e0a0beca548542ebea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d9ba1b746e32cb52e88ca3d3dee2b8a"><td class="memItemLeft" align="right" valign="top">json&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a6d9ba1b746e32cb52e88ca3d3dee2b8a">blue.ALERTS</a> = json.load(open(&quot;/home/pi/Jura-Python-BT/data/alerts.json&quot;))[&quot;alerts&quot;]</td></tr>
<tr class="memdesc:a6d9ba1b746e32cb52e88ca3d3dee2b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dictionary of alerts from machine status.  <br /></td></tr>
<tr class="separator:a6d9ba1b746e32cb52e88ca3d3dee2b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b4fb114140ebf23c2b571e917ec4a7"><td class="memItemLeft" align="right" valign="top">json&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a17b4fb114140ebf23c2b571e917ec4a7">blue.PRODUCTS</a> = json.load(open(&quot;/home/pi/Jura-Python-BT/data/products.json&quot;))[&quot;products&quot;]</td></tr>
<tr class="memdesc:a17b4fb114140ebf23c2b571e917ec4a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dictionary of products the machine can make.  <br /></td></tr>
<tr class="separator:a17b4fb114140ebf23c2b571e917ec4a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d747bb29f022bc55ea6535b4c01cceb"><td class="memItemLeft" align="right" valign="top">json&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a6d747bb29f022bc55ea6535b4c01cceb">blue.PRICECOFFEE</a> = json.load(open(&quot;/home/pi/Jura-Python-BT/data/prices.json&quot;))[&quot;pricecoffee&quot;]</td></tr>
<tr class="memdesc:a6d747bb29f022bc55ea6535b4c01cceb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dictionary of prices of the products.  <br /></td></tr>
<tr class="separator:a6d747bb29f022bc55ea6535b4c01cceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d91cb8b36d8732e48c096a7e9c9574e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a7d91cb8b36d8732e48c096a7e9c9574e">blue.BUZZER_PIN</a> = 7</td></tr>
<tr class="memdesc:a7d91cb8b36d8732e48c096a7e9c9574e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pin for the buzzer.  <br /></td></tr>
<tr class="separator:a7d91cb8b36d8732e48c096a7e9c9574e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a186119df4069f666a4e3df7f04e1c4cd"><td class="memItemLeft" align="right" valign="top">os&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a186119df4069f666a4e3df7f04e1c4cd">blue.DEVICE</a> = os.getenv(&quot;DEVICE&quot;)</td></tr>
<tr class="memdesc:a186119df4069f666a4e3df7f04e1c4cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the environment variables from .env file.  <br /></td></tr>
<tr class="separator:a186119df4069f666a4e3df7f04e1c4cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2043f73a38372c065d2799fb6c9c4d"><td class="memItemLeft" align="right" valign="top">os&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#aea2043f73a38372c065d2799fb6c9c4d">blue.MASTERCARD1</a> = os.getenv(&quot;MASTER_CARD_1&quot;)</td></tr>
<tr class="memdesc:aea2043f73a38372c065d2799fb6c9c4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The UID of master card 1 read from .env file.  <br /></td></tr>
<tr class="separator:aea2043f73a38372c065d2799fb6c9c4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d90eb9ea01eebcc4c99e582b914fccd"><td class="memItemLeft" align="right" valign="top">os&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a7d90eb9ea01eebcc4c99e582b914fccd">blue.MASTERCARD2</a> = os.getenv(&quot;MASTER_CARD_2&quot;)</td></tr>
<tr class="memdesc:a7d90eb9ea01eebcc4c99e582b914fccd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The UID of master card 2 read from .env file.  <br /></td></tr>
<tr class="separator:a7d90eb9ea01eebcc4c99e582b914fccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a171b872f123d7934fc0e80cb0b3fb930"><td class="memItemLeft" align="right" valign="top">db_connect&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a171b872f123d7934fc0e80cb0b3fb930">blue.DB</a> = db_connect()</td></tr>
<tr class="memdesc:a171b872f123d7934fc0e80cb0b3fb930"><td class="mdescLeft">&#160;</td><td class="mdescRight">The open database connection.  <br /></td></tr>
<tr class="separator:a171b872f123d7934fc0e80cb0b3fb930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5074ffbb74d6b6b957ccbb9db4f7a979"><td class="memItemLeft" align="right" valign="top">BtEncoder&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a5074ffbb74d6b6b957ccbb9db4f7a979">blue.BtEncoder</a> = BtEncoder()</td></tr>
<tr class="memdesc:a5074ffbb74d6b6b957ccbb9db4f7a979"><td class="mdescLeft">&#160;</td><td class="mdescRight">The instance of the BtEncoder class.  <br /></td></tr>
<tr class="separator:a5074ffbb74d6b6b957ccbb9db4f7a979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac298b85f44f6bf3e46a9d58129bb01c7"><td class="memItemLeft" align="right" valign="top">JuraEncoder&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ac298b85f44f6bf3e46a9d58129bb01c7">blue.JuraEncoder</a> = JuraEncoder()</td></tr>
<tr class="memdesc:ac298b85f44f6bf3e46a9d58129bb01c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The instance of the JuraEncoder class.  <br /></td></tr>
<tr class="separator:ac298b85f44f6bf3e46a9d58129bb01c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf88e2ab4c8070d0b4f86add2c91a2d4"><td class="memItemLeft" align="right" valign="top">MFRC522&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#adf88e2ab4c8070d0b4f86add2c91a2d4">blue.RFIDREADER</a> = <a class="el" href="classMFRC522_1_1MFRC522.html">MFRC522.MFRC522</a>()</td></tr>
<tr class="memdesc:adf88e2ab4c8070d0b4f86add2c91a2d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The instance of the RFID reader class <br  />
  <br /></td></tr>
<tr class="separator:adf88e2ab4c8070d0b4f86add2c91a2d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63fa6ebee6cd67cfc3fb277569c236aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a63fa6ebee6cd67cfc3fb277569c236aa">blue.filename</a></td></tr>
<tr class="separator:a63fa6ebee6cd67cfc3fb277569c236aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14bb421762410414fd03ebe5e0e3a1d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a14bb421762410414fd03ebe5e0e3a1d5">blue.level</a></td></tr>
<tr class="separator:a14bb421762410414fd03ebe5e0e3a1d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a50b61fd1090671e3e8916ac3625fda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a8a50b61fd1090671e3e8916ac3625fda">blue.format</a></td></tr>
<tr class="separator:a8a50b61fd1090671e3e8916ac3625fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d40c1c270f7e9aaa4ae04d7f83e4406"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a5d40c1c270f7e9aaa4ae04d7f83e4406">blue.datefmt</a></td></tr>
<tr class="separator:a5d40c1c270f7e9aaa4ae04d7f83e4406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98282d4b8e2f6cf0a8e4ab7f86f55a86"><td class="memItemLeft" align="right" valign="top">lcddriver&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a98282d4b8e2f6cf0a8e4ab7f86f55a86">blue.lcd</a> = <a class="el" href="classlcddriver_1_1lcd.html">lcddriver.lcd</a>()</td></tr>
<tr class="memdesc:a98282d4b8e2f6cf0a8e4ab7f86f55a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize LCD.  <br /></td></tr>
<tr class="separator:a98282d4b8e2f6cf0a8e4ab7f86f55a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a269686f782273578f028d010b35ed475"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a269686f782273578f028d010b35ed475">blue.child</a> = pexpect.spawn(&quot;gatttool -b &quot; + DEVICE + &quot; -I -t random&quot;)</td></tr>
<tr class="memdesc:a269686f782273578f028d010b35ed475"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all necessary variables from <a class="el" href="setup_8py.html" title="In this file the connection to the Jura coffee machine is established.">setup.py</a> -&gt; check file for more information.  <br /></td></tr>
<tr class="separator:a269686f782273578f028d010b35ed475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afee8a795255ddecce18a53bf25d2affa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#afee8a795255ddecce18a53bf25d2affa">blue.keep_alive_code</a></td></tr>
<tr class="separator:afee8a795255ddecce18a53bf25d2affa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad35d5710ab69cfcf67801d84db4ff2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a8ad35d5710ab69cfcf67801d84db4ff2">blue.locking_code</a></td></tr>
<tr class="separator:a8ad35d5710ab69cfcf67801d84db4ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2ebc9fe303b1cf9492e34ed45857aef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#aa2ebc9fe303b1cf9492e34ed45857aef">blue.unlock_code</a></td></tr>
<tr class="separator:aa2ebc9fe303b1cf9492e34ed45857aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd7c59c4ac30ea6107e57660d981c487"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#afd7c59c4ac30ea6107e57660d981c487">blue.KEY_DEC</a></td></tr>
<tr class="separator:afd7c59c4ac30ea6107e57660d981c487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8222e4e2a11d2680b97e713a85f3b233"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a8222e4e2a11d2680b97e713a85f3b233">blue.all_statistics</a></td></tr>
<tr class="separator:a8222e4e2a11d2680b97e713a85f3b233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac69b8a524f27ae7ffbba6fc4248bf3bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ac69b8a524f27ae7ffbba6fc4248bf3bb">blue.initial_time</a></td></tr>
<tr class="separator:ac69b8a524f27ae7ffbba6fc4248bf3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72839023af49267a737452f9d8d7bf5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a72839023af49267a737452f9d8d7bf5c">blue.CURRENT_STATISTICS</a> = decoded</td></tr>
<tr class="separator:a72839023af49267a737452f9d8d7bf5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d11c02477313e9065dd9cd3c7cb05ee"><td class="memItemLeft" align="right" valign="top">db_connect&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a0d11c02477313e9065dd9cd3c7cb05ee">blue.c</a> = DB.cursor()</td></tr>
<tr class="separator:a0d11c02477313e9065dd9cd3c7cb05ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb5f038120df6ea49847a73e97e6308"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a4bb5f038120df6ea49847a73e97e6308">blue.emergency_unlock</a> = 0</td></tr>
<tr class="separator:a4bb5f038120df6ea49847a73e97e6308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e227d9b252c14b8890a1f959556adba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a5e227d9b252c14b8890a1f959556adba">blue.else</a> :</td></tr>
<tr class="separator:a5e227d9b252c14b8890a1f959556adba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021fa476f5a48d0d55814f279b038a8b"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a021fa476f5a48d0d55814f279b038a8b">blue.lock_status</a> = &quot;unlocked&quot;</td></tr>
<tr class="separator:a021fa476f5a48d0d55814f279b038a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a19cbe5be44c443efbc9d0cc26a1add"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a3a19cbe5be44c443efbc9d0cc26a1add">blue.try</a> :</td></tr>
<tr class="separator:a3a19cbe5be44c443efbc9d0cc26a1add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1bb9c6a4233ab7e3bf473d874b657c"><td class="memItemLeft" align="right" valign="top">serial&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a6d1bb9c6a4233ab7e3bf473d874b657c">blue.port</a> = serial.Serial(&quot;/dev/serial0&quot;, baudrate = 9600, timeout = 1.0)</td></tr>
<tr class="separator:a6d1bb9c6a4233ab7e3bf473d874b657c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a104a274c4fd33c02b40aac89ddff5a52"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a104a274c4fd33c02b40aac89ddff5a52">blue.except</a> :</td></tr>
<tr class="separator:a104a274c4fd33c02b40aac89ddff5a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee179b70a600c626ec6274091c0620f3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#aee179b70a600c626ec6274091c0620f3">blue.buttonPress</a> = False</td></tr>
<tr class="memdesc:aee179b70a600c626ec6274091c0620f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The variables used in the main loop.  <br /></td></tr>
<tr class="separator:aee179b70a600c626ec6274091c0620f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e243bf43c26cc5e9f2f000ad58c7e5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a75e243bf43c26cc5e9f2f000ad58c7e5">blue.continue_reading</a> = True</td></tr>
<tr class="separator:a75e243bf43c26cc5e9f2f000ad58c7e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84c8ebd7edb6352b793e9a3f99e96ad3"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a84c8ebd7edb6352b793e9a3f99e96ad3">blue.lastSeen</a> = &quot;&quot;</td></tr>
<tr class="separator:a84c8ebd7edb6352b793e9a3f99e96ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d724e2ef56a049e80a2aa328e66090"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a22d724e2ef56a049e80a2aa328e66090">blue.counter</a> = 0</td></tr>
<tr class="separator:a22d724e2ef56a049e80a2aa328e66090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac34d5342e283d51944ddb68f0a912b01"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ac34d5342e283d51944ddb68f0a912b01">blue.disp_init</a> = 1</td></tr>
<tr class="separator:ac34d5342e283d51944ddb68f0a912b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac726adeab33471a37a88ec0f134b566d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ac726adeab33471a37a88ec0f134b566d">blue.payment_to_date</a> = 1</td></tr>
<tr class="separator:ac726adeab33471a37a88ec0f134b566d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae95017a705028f5bba17b3ec6eb5926d"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ae95017a705028f5bba17b3ec6eb5926d">blue.client_to_pay</a> = &quot;&quot;</td></tr>
<tr class="separator:ae95017a705028f5bba17b3ec6eb5926d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d49e2d36e001db7d231ebcfb3298221"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a3d49e2d36e001db7d231ebcfb3298221">blue.admin_locked</a> = 0</td></tr>
<tr class="separator:a3d49e2d36e001db7d231ebcfb3298221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4975e338aac955c074112719c4bb9f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ad4975e338aac955c074112719c4bb9f6">blue.admin_prod</a> = 0</td></tr>
<tr class="separator:ad4975e338aac955c074112719c4bb9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a736059d7b7478f06ac18fafd6a41f181"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a736059d7b7478f06ac18fafd6a41f181">blue.total_prod</a> = 0</td></tr>
<tr class="separator:a736059d7b7478f06ac18fafd6a41f181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5f8e513f88b66af6b2d1e3e720a8ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#aad5f8e513f88b66af6b2d1e3e720a8ee">blue.payed_prod</a> = 0</td></tr>
<tr class="separator:aad5f8e513f88b66af6b2d1e3e720a8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f53493cd276cc263a662b4388cde69a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a9f53493cd276cc263a662b4388cde69a">blue.current_time</a> = int(time.time() - initial_time)</td></tr>
<tr class="separator:a9f53493cd276cc263a662b4388cde69a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c1e7658060ea7960912316286ac7bce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a1c1e7658060ea7960912316286ac7bce">blue.hour</a> = int(time.strftime(&quot;%H&quot;))</td></tr>
<tr class="separator:a1c1e7658060ea7960912316286ac7bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08882672ace1511929e93d59fca17cca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a08882672ace1511929e93d59fca17cca">blue.minute</a> = int(time.strftime(&quot;%M&quot;))</td></tr>
<tr class="separator:a08882672ace1511929e93d59fca17cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adefb1155c9400d712b8187a18ad236e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#adefb1155c9400d712b8187a18ad236e3">blue.second</a> = int(time.strftime(&quot;%S&quot;))</td></tr>
<tr class="separator:adefb1155c9400d712b8187a18ad236e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab97d10ab3322b0b86d5772eb8fdc1a97"><td class="memItemLeft" align="right" valign="top">child&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ab97d10ab3322b0b86d5772eb8fdc1a97">blue.data</a> = child.readline()</td></tr>
<tr class="separator:ab97d10ab3322b0b86d5772eb8fdc1a97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6974e0feee482e38ee66e8fbd895463"><td class="memItemLeft" align="right" valign="top">BtEncoder&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ab6974e0feee482e38ee66e8fbd895463">blue.decoded</a> = BtEncoder.encDecBytes(data, KEY_DEC)</td></tr>
<tr class="separator:ab6974e0feee482e38ee66e8fbd895463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a667f9daa7c62f0c37ab4934a466a56ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a667f9daa7c62f0c37ab4934a466a56ca">blue.timeout</a></td></tr>
<tr class="separator:a667f9daa7c62f0c37ab4934a466a56ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accba175cfee437d7caf489b69efe3138"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#accba175cfee437d7caf489b69efe3138">blue.uid_str</a> = scanCard()</td></tr>
<tr class="separator:accba175cfee437d7caf489b69efe3138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a345550781db9faf2b3eaf7cdedfe2df1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a345550781db9faf2b3eaf7cdedfe2df1">blue.prod</a> = read_statistics()</td></tr>
<tr class="separator:a345550781db9faf2b3eaf7cdedfe2df1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20aa6985f956ca6dc6074b326cfbbee5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a20aa6985f956ca6dc6074b326cfbbee5">blue.product_made</a> = False</td></tr>
<tr class="separator:a20aa6985f956ca6dc6074b326cfbbee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989a2f098fbc5b6438e69ae9c06f6d3f"><td class="memItemLeft" align="right" valign="top">get_value&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a989a2f098fbc5b6438e69ae9c06f6d3f">blue.value</a> = get_value(DB, uid_str)</td></tr>
<tr class="separator:a989a2f098fbc5b6438e69ae9c06f6d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18a9fb722305b7ddb6d688e9d57fdb3"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ae18a9fb722305b7ddb6d688e9d57fdb3">blue.value_str</a> = str(&quot;Balance: &quot; + str('%.2f' % value) + &quot; EUR&quot;)</td></tr>
<tr class="separator:ae18a9fb722305b7ddb6d688e9d57fdb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a865da98d7d6dc5b46afbb6b8f7c9cea4"><td class="memItemLeft" align="right" valign="top">get_name&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a865da98d7d6dc5b46afbb6b8f7c9cea4">blue.lastName</a> = get_name(DB, uid_str)</td></tr>
<tr class="separator:a865da98d7d6dc5b46afbb6b8f7c9cea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f1b5613b309ef0a3c9bdbcbf77fb49"><td class="memItemLeft" align="right" valign="top">get_vorname&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a74f1b5613b309ef0a3c9bdbcbf77fb49">blue.preName</a> = get_vorname(DB, uid_str)</td></tr>
<tr class="separator:a74f1b5613b309ef0a3c9bdbcbf77fb49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1afc14b6a0720c02a49d72a7a5896508"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a1afc14b6a0720c02a49d72a7a5896508">blue.welStr</a> = str(&quot;Hello &quot; + preName)</td></tr>
<tr class="separator:a1afc14b6a0720c02a49d72a7a5896508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b263eea7483605710e604d6baf85e11"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a3b263eea7483605710e604d6baf85e11">blue.msgStr3</a> = str(&quot;Hold for 2s please &quot;)</td></tr>
<tr class="separator:a3b263eea7483605710e604d6baf85e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c7e5fb1b8337709f89656cd2b1a8427"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a4c7e5fb1b8337709f89656cd2b1a8427">blue.msgStr4</a> = str(&quot;Chip below &quot;)</td></tr>
<tr class="separator:a4c7e5fb1b8337709f89656cd2b1a8427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b448839cc148358a53e42867baebe53"><td class="memItemLeft" align="right" valign="top">time&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a9b448839cc148358a53e42867baebe53">blue.intial_time_2</a> = time.time()</td></tr>
<tr class="separator:a9b448839cc148358a53e42867baebe53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f6103b9b36a81c497fd8110340bd69"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a84f6103b9b36a81c497fd8110340bd69">blue.chosen</a> = 0</td></tr>
<tr class="separator:a84f6103b9b36a81c497fd8110340bd69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee1b58e373446b30c1801af90321ac0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#aee1b58e373446b30c1801af90321ac0d">blue.started</a> = 0</td></tr>
<tr class="separator:aee1b58e373446b30c1801af90321ac0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab05661c116ebd148df59a1030d439fa1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ab05661c116ebd148df59a1030d439fa1">blue.over</a> = 0</td></tr>
<tr class="separator:ab05661c116ebd148df59a1030d439fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36dbc47c5e75a2c7814ef10df2d9f48c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a36dbc47c5e75a2c7814ef10df2d9f48c">blue.time_total</a> = int(time.time() - intial_time_2)</td></tr>
<tr class="separator:a36dbc47c5e75a2c7814ef10df2d9f48c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f863e23dfff426d2901f998be9769ff"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a7f863e23dfff426d2901f998be9769ff">blue.data2</a> = [int(x, 16) for x in data.split()]</td></tr>
<tr class="separator:a7f863e23dfff426d2901f998be9769ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad560b91d6dcb9695a1c578a4eadac55a"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ad560b91d6dcb9695a1c578a4eadac55a">blue.as_hex</a> = [&quot;%02x&quot; % d for d in decoded]</td></tr>
<tr class="separator:ad560b91d6dcb9695a1c578a4eadac55a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5078ccee4cb27f640c587f8767e24a02"><td class="memItemLeft" align="right" valign="top">json&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a5078ccee4cb27f640c587f8767e24a02">blue.price_product</a> = PRICECOFFEE[product_made]</td></tr>
<tr class="separator:a5078ccee4cb27f640c587f8767e24a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7e055f340fd1da824a690819787894"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#aca7e055f340fd1da824a690819787894">blue.value_new</a> = 0</td></tr>
<tr class="separator:aca7e055f340fd1da824a690819787894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ee4fdcbd22275bad951496a0222048"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#ac0ee4fdcbd22275bad951496a0222048">blue.msgStr1</a> = str(product_made + &quot; was made!&quot;)</td></tr>
<tr class="separator:ac0ee4fdcbd22275bad951496a0222048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c1221eb50a909725598aefb96e7b291"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceblue.html#a8c1221eb50a909725598aefb96e7b291">blue.msgStr2</a> = str(&quot; Happy betty :) &quot;)</td></tr>
<tr class="separator:a8c1221eb50a909725598aefb96e7b291"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main script to run for BlackBetty. </p>
<h1><a class="anchor" id="author_blue"></a>
Author(s)</h1>
<ul>
<li>Created by Francisco Fonseca on 25/04/2023. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
